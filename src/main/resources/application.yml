server:
  port: 8080
  servlet:
    context-path: /

spring:
  application:
    name: giraffe-material-auto

# 图片下载配置
material:
  download:
    # 默认下载目录
    base-path: ./downloads
    # 超时时间（毫秒）- 已废弃，使用 connect-timeout 和 read-timeout
    timeout: 30000
    # 连接超时时间（毫秒）- 建立连接的最大等待时间
    connect-timeout: 10000
    # 读取超时时间（毫秒）- 数据传输的最大等待时间
    # 注意：优化后会下载高清大图，单张图片可能 1-5MB，建议保持 60-120 秒
    read-timeout: 90000
    # 最大重试次数（失败后重试）
    # 注意：下载高清图时可能因网络波动失败，建议设置 3-5 次
    max-retry: 5
    # 请求间隔（毫秒），避免请求过快被限流
    # 注意：下载高清图时建议适当增加间隔，推荐 500-1500ms
    request-interval: 800
    # User-Agent
    user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# 注意：日志配置已迁移到 log4j2.xml
# logging:
#   level:
#     root: INFO
#     com.prospect.giraffe: DEBUG

# 水印去除配置
watermark-removal:
  # 全局开关（默认关闭）
  enabled: false
  
  # 默认使用的厂商: aliyun, tencent, baidu, disabled
  default-provider: disabled
  
  # 是否保存原图
  save-original: false
  
  # 超时时间（毫秒）
  timeout: 30000
  
  # 最大重试次数
  max-retry: 2
  
  # 阿里云配置
  aliyun:
    enabled: false
    access-key-id: ${ALIYUN_ACCESS_KEY_ID:}
    access-key-secret: ${ALIYUN_ACCESS_KEY_SECRET:}
    endpoint: imageprocess.cn-shanghai.aliyuncs.com
    free-quota: 1000  # 每月免费次数提示
    
  # 腾讯云配置  
  tencent:
    enabled: false
    secret-id: ${TENCENT_SECRET_ID:}
    secret-key: ${TENCENT_SECRET_KEY:}
    region: ap-shanghai
    bucket: ${TENCENT_BUCKET:}
    free-quota: 1000  # 每月免费次数提示
    
  # 百度智能云配置
  baidu:
    enabled: false
    api-key: ${BAIDU_API_KEY:}
    secret-key: ${BAIDU_SECRET_KEY:}
    free-quota: 500  # 每日免费次数提示

