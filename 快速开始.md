# 快速开始指南

## 第一步：验证环境

确保已安装 Java 8+：

```bash
java -version
```

确保已安装 Maven：

```bash
mvn -version
```

## 第二步：启动服务

### 方式一：使用脚本启动（推荐）

Linux/Mac:
```bash
cd /Users/prospect/Documents/code/tcxy/xygj/giraffe-material-auto
chmod +x start.sh  # 如果还没有执行权限
./start.sh
```

Windows:
```bash
cd C:\...\giraffe-material-auto
start.bat
```

### 方式二：使用 Maven 启动

```bash
cd /Users/prospect/Documents/code/tcxy/xygj/giraffe-material-auto
mvn spring-boot:run
```

### 方式三：先编译后运行

```bash
cd /Users/prospect/Documents/code/tcxy/xygj/giraffe-material-auto
mvn clean package -DskipTests
java -jar target/giraffe-material-auto-1.0.0-SNAPSHOT.jar
```

## 第三步：测试服务

### 1. 测试健康检查

```bash
curl http://localhost:8080/api/v1/download/health
```

预期返回：
```json
{
  "code": 200,
  "message": "success",
  "data": "服务运行正常"
}
```

### 2. 测试图片下载（示例：豆瓣电影）

```bash
curl -X POST http://localhost:8080/api/v1/download/images \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://movie.douban.com/subject/36686673/all_photos",
    "targetDir": "test",
    "convertToJpeg": true
  }'
```

### 3. 测试批量下载（可选）

```bash
curl -X POST http://localhost:8080/api/v1/download/images/batch \
  -H "Content-Type: application/json" \
  -d '{
    "urls": [
      "https://movie.douban.com/photos/photo/1234567890/",
      "https://movie.douban.com/photos/photo/1234567891/"
    ],
    "targetDir": "batch_test",
    "concurrent": true,
    "maxConcurrency": 3
  }'
```

### 4. 查看下载的图片

下载的图片会保存在项目根目录的 `downloads` 文件夹中：

```bash
ls -la downloads/
```

## 常见问题

### Q1: 端口 8080 被占用怎么办？

修改 `src/main/resources/application.yml` 中的端口：

```yaml
server:
  port: 8081  # 改为其他端口
```

### Q2: Maven 依赖下载慢？

配置 Maven 使用国内镜像，编辑 `~/.m2/settings.xml`：

```xml
<mirrors>
  <mirror>
    <id>aliyun</id>
    <mirrorOf>central</mirrorOf>
    <name>Aliyun Maven</name>
    <url>https://maven.aliyun.com/repository/public</url>
  </mirror>
</mirrors>
```

### Q3: 下载图片失败？

可能原因：
1. 网络连接问题
2. 目标网站有反爬虫机制
3. URL 不正确

解决方案：
- 检查网络连接
- 查看日志中的详细错误信息
- 尝试其他网站的图片页面

### Q4: 如何修改下载目录？

修改 `src/main/resources/application.yml`：

```yaml
material:
  download:
    base-path: /path/to/your/download/directory
```

## 下一步

- 阅读 [README.md](README.md) 了解更多功能
- 查看 [API测试示例.md](API测试示例.md) 学习更多使用方式
- 阅读 [部署说明.md](部署说明.md) 了解生产环境部署

## 技术支持

如有问题，请查看：
1. 应用日志（控制台输出）
2. 项目文档
3. 联系开发团队

